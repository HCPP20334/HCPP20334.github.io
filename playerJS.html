<html>
<style>
     @font-face {
        font-family: Rt_3;
        src: url("./fonts/Font0.ttf");
    }
    @font-face {
        font-family: WR;
        src: url("./fonts/WhiteRabbit.woff");
    }
html
{
    background-color: #1b1b1e;

}
#player_frame
{
    background-color: #010107;
    border: 2px solid #42454b;;
    width: 350px;
    height: 600px;
    margin: auto;
    display: block;
}
#btn_prev_track,#btn_next_track,#btn_state
{
    background-color: #2f2fff;
    font-size: 40px;
    font-family: 'WR';
    color: #ffffff; 
    width: 100px;
    height: 60px;
    border: 2px solid #010107;
}
#btn_prev_track:hover{
    transition: .2s;
    background-color: #42454b;
}
#btn_next_track:hover{
    transition: .2s;
    background-color: #42454b;
}
#btn_state:hover{
    transition: .2s;
    background-color: #42454b;
}
#name_tl
{
    width: 350px;
    background-color: #1b1b1e;
    height: 45px;margin: auto;border: 2px solid #42454b;
    display: block;
}
#Tx_Name
{
 
 font-size: 40px;
 font-family: 'WR';color: #fbfaff; padding: -4px;text-align: center;
 transform: translateY(-33px);
}
#Tx_info_Sound
{
    font-size: 20px;
   font-family: 'WR';
   color: #ffffff; 
  
}
#P_github
{
    font-size: 30px;
   font-family: 'WR';display: inline;
   color: #1ceb5a; border: 4px solid #010107;
}
#v_text
{
    font-size: 30px;
   font-family: 'WR';display: inline;
   color: #2538e0;
}
#sound_device
{
    width: 100%;
    height: 100px;
    opacity: 0%;
}
#aControls
{
    width: 100%;
    height: 50%;
    background-color: #1b1b1e;
    border-bottom: 2px solid #42454b;
    border-top: 2px solid #42454b;
}
#vl_count
{
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    display: inline;
}
#vl_count::-webkit-slider-runnable-track
{
    background-color: #1b1c1e;border: 2px solid #42454b;
}
#vl_count::-webkit-slider-thumb
{
    background: #f00050;
      cursor: pointer;
      width: 8px;
      height: 20px;
      -webkit-appearance: none;
      border-radius: 2px;
 
}
#b_volT
{
    font-size: 30px;
   font-family: 'WR';
   color: #e0e0e0;
}
#b_volT1
{
    background-color: #1b1b1e;
    height: 10px;display: none;border: 2px solid #ff044f;
}
#b_vol
{
    display: none;
    position: absolute;
    background-color: #1b1b1e;
    border: 2px solid #42454b;
    width: 250px;
    height: 90px;
}
#PLmsg
{
    display: none;
    position: absolute;
}
</style>
<div id="b_vol">
    <h1 id="b_volT">VOL:</h1>
    <div id="b_volT1"></div>
    </div>
    <h1 id="PLmsg"></h1>
<div id="name_tl"><p id="Tx_Name">PlayerJS</p></div>
<div id="player_frame">
<p id="Tx_info_Sound">Нет файла</p>
<audio id="sound_device"  >
    <a id="sound_device1"> Download audio </a>
  </audio>
<div id="aControls">
    <br>
    <br>
    <br>
    <button id="btn_prev_track"><<</button><button id="btn_next_track">>></button><button id="btn_state">Play</button>
    <br>
    <br>
    <p id="v_text">volume:</p><input type="range" min="0.0" max="1.0" step="0.1" value="0.3" id="vl_count"></p>
</div>
<br>
<br>
<br>
<br>
<br>
<br>
<p id="P_github">Github</p><p id="P_github">Web Site</p>
</div>
<script>
var fPLFrame =  document.getElementById('player_frame');
var fPLPrev = document.getElementById('btn_prev_track');
var fPLNext = document.getElementById('btn_next_track');
var fPLSndDv = document.getElementById('sound_device');
var fPLSndDv1 = document.getElementById('sound_device1');
var fPLvolCount = document.getElementById('vl_count');
var fPaudioX = document.getElementById('b_volT1');
var fPaudioD = document.getElementById('b_volT');
var fPaudioF = document.getElementById('b_vol');
var fPLaudioText = document.getElementById('PLmsg');
//
var fPLMaxSoundCount = 21;
var fPLCurrentSoundId = 0;
//
var fPLSoundInfo = document.getElementById('Tx_info_Sound');
var fPLSoundName = document.getElementById('Tx_Name');
//
var fPLstate = document.getElementById('btn_state');
//
var snd_st = 0;
var fVaudioVol = 0;
//
var fPLaudioState;
var fPLaudioDuration;
var fPLaudioSndState;
var fPLaudioSndSrc;
//
setInterval("fPLaudioInfo()",1);
function fPLaudioInfo()
{
    fPLaudioSndState = fPLSndDv.readyState;
    fPLaudioDuration = parseInt((fPLSndDv.duration / 60))+':Min';
    fPLaudioState = fPLSndDv.networkState;
    fPLaudioSndSrc = fPLSndDv.currentSrc;
    if(fPLaudioState == 0)
    {
        fPl_debugMsg("NetworkState:"+fPLaudioState+" AudioDuration:"+fPLaudioDuration +"\nAudioReady:"+fPLaudioSndState+" Status: no audio!");
    }
    if(fPLaudioState == 1)
    {
        fPl_debugMsg("NetworkState:"+fPLaudioState+" AudioDuration:"+fPLaudioDuration+"\nAudioReady:"+fPLaudioSndState+" Status: OK");
    }
    if(fPLaudioState == 2)
    {
        fPl_debugMsg("NetworkState:"+fPLaudioState+" AudioDuration:"+fPLaudioDuration+"\nAudioReady:"+fPLaudioSndState+" Status:Loading..");
    }
}
function fPLaudioMsg(text)
{
    fPLaudioText.style.display = 'block';
    fPLaudioText.innerHTML = text;
    fPLaudioText.style.backgroundColor = '#1b1b1e';
    fPLaudioText.style.color = '#ffffff';
    fPLaudioText.style.fontSize = '20px';
    fPLaudioText.style.fontFamily = 'WR';
    fPLaudioText.style.border = '2px solid #42454b';
    fPLaudioText.style.width = text.length + '%';
    fPLaudioText.style.height = '30px';
}
fPLSndDv.volume = 0.4;
fPLvolCount.oninput = function()
{
    fVaudioVol = this.value;
    if(fVaudioVol > 1)
    {
        fVaudioVol = 1;
    }
    fPLSndDv.volume = fVaudioVol;
    VlBar(fVaudioVol);
}
function VlBar(get_vol)
{
    fPaudioD.innerHTML = "VOL:"+ (get_vol * 100)+'%';
    fPaudioF.style.display = 'block';
    fPaudioX.style.display = 'block';
    fPaudioX.style.width = (get_vol * 100)+'%';
    setTimeout("fPaudioF.style.display = 'none';",3000);
}
fPLstate.onclick = function()
{
    fPLaudioInfo();
    snd_st++;
    if(snd_st > 1){
        snd_st = 0;
    }
    if(snd_st == 0){
        SndState(snd_st,fPLSndDv);
    }
    if(snd_st == 1){
        SndState(snd_st,fPLSndDv);
    }
}
fPLPrev.onclick = function()
{
    fPLCurrentSoundId--;
    if(fPLCurrentSoundId < 1)
    {
        fPLCurrentSoundId = fPLMaxSoundCount;
    }
    SndState(0,fPLSndDv);
    snd_st = 0;
    PlaySoundJS('https://hcpp20334.github.io/music/'+fPLCurrentSoundId+'.mp3',fPLSoundInfo,fPLSndDv1,fPLSndDv);
}
fPLNext.onclick = function()
{
    fPLCurrentSoundId++;
    if(fPLCurrentSoundId > fPLMaxSoundCount)
    {
        fPLCurrentSoundId = 1;
    }
    SndState(0,fPLSndDv);
    snd_st = 0;
    PlaySoundJS('https://hcpp20334.github.io/music/'+fPLCurrentSoundId+'.mp3',fPLSoundInfo,fPLSndDv1,fPLSndDv);
}
function PlaySoundJS(name,out,fAref,fAudio)
{
    fAref.href = name;
    fAudio.src = name;
    fPLaudioInfo();
}
function fPl_debugMsg(text)
{
    fPLSoundInfo.innerHTML = text;
}
function SndState(state,fAudio)
{
    if(state)
    {
        fAudio.play();
        fPLstate.innerHTML = "Stop";
    }
    if(!state)
    {
        fAudio.pause();
        fPLstate.innerHTML = "Play";
    }
}
</script>
</html>
