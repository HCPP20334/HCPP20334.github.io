<html>
<style>
     @font-face {
        font-family: WR;
        src: url("https://hcpp20334.github.io/fonts/FeatureMono-Light.woff");
        font-weight:700;
    }
    html{
        background: #010409;
    }
    .frame-container{
        background: #202020;
        width: 80%;
        display: block;
        margin: auto;
        height: auto;
    }
    .title_frame{
        background: #ff0033;
        width: 80%;
        display: block;
        margin: auto;
        height: 200px;
    }
    .tx{
        font-size: 16px;
        font-family: 'WR';
        color: white;
        text-align: left;
        margin: 10px;
        text-shadow: 2px 2px 0px 30px #010409;
    }
    .tltx{
        font-size: 40px;
        font-family: 'WR';
        color: white;
        text-align: left;
        margin: 10px;
        text-shadow: 2px 2px 0px 30px #010409;
    }
</style>
<div class="title_frame">
    <br>
<h1 class="tltx">НАСТОИКА СВОЕГО VPN</h1>
<h1 class="tltx">Настройка 3X-UI ПАНЕЛИ (XTLS-Reality)</h1>
<br>
</div>
<div class="frame-container">
<p class="tx" id="bftx">
    <br> . На наш сервер нужно установить операционную систему Ubuntu 20.04— её и выберите. Отключите бекапы — тут они не нужны (в случае чего всё можно быстро переустановить) . Выберите период оплаты и, собственно, оплатите аренду.

<br>Кстати, после регистрации по моей реферальной ссылке у вас в течении 24 часов будет бонус 15% к пополнению баланса.

<br>Минуты 2-3 сервер будет активироваться и после на почту придут данные для авторизации для подключения к серверу. Либо, ip-адрес и пароль можно будет посмотреть в разделе мои услуги и нажать на название вашего сервера.

<br>Пункт 2. Подключение к серверу по SSH и установка графической панели 3X-UI
<br>1. Откройте командную строку (Windows) или терминал (MacOS) и введите следующую команду:

<br>ssh root@ip_adress

<br>где ip_adress — ip_адрес вашего сервера.

<br>Если что, по SSH можно подключиться ещё в Linux и даже с Android устройства через программу JuiceSSH.

<br>2. У вас спросят "Are you sure you want to continue connecting(yes/no/[fingerprint]) ? " — ответьте yes.

<br>Настройка лучших VPN протоколов! VLESS с XTLS-Reality на сервере XRay с установкой через 3X-UI панель VPN, VPS, Сервер, Длиннопост
<br>3. Введите пароль от сервера, который вам пришёл на почту. При вводе пароль не будет отображаться, поэтому лучше скопировать и вставить с помощью сочетаний клавиш: Cntl+V (Windows) или Command+V (MacOS)

<br>4. Первым делом, необходимо обновить компоненты операционной системы Ubuntu до последней версии. Для этого введите следующую команду:

<br>apt update && apt upgrade -y

<br>5. Теперь установим Curl — эта утилита нужна для загрузки файлов и пакетов в терминале. Сделаем это с помощью этой команды:

<br>apt install curl -y

<br>6. И, неожиданно, сразу же установим панель 3X-UI. Мы это будем делать напрямую в ОС с помощью скрипта из официального репозитория на GitHub:

<br>bash <(curl -Ls https://raw.githubusercontent.com/mhsanaei/3x-ui/master/inst...)

<br>Этот скрипт можно использовать и для первоначальной установки и для обновления версии графической панели. Каждый раз используется последняя актуальная версия.

<br>7. После завершения установки вам у вас спросят: Хотите ли вы внести дополнительные модификации — ответьте Y (да)

<br>Настройка лучших VPN протоколов! VLESS с XTLS-Reality на сервере XRay с установкой через 3X-UI панель VPN, VPS, Сервер, Длиннопост
<br>Вводим username - Любой какой вам нравится — я введу Revelix.

<br>Настройка лучших VPN протоколов! VLESS с XTLS-Reality на сервере XRay с установкой через 3X-UI панель VPN, VPS, Сервер, Длиннопост
<br>Вводим password — Любой более-менее надёжный и запомните его — тут я тоже введу Revelix (Если что, запомните регистр, если также будете вводить)
<br>Настройка лучших VPN протоколов! VLESS с XTLS-Reality на сервере XRay с установкой через 3X-UI панель VPN, VPS, Сервер, Длиннопост
<br>И наконец, вводим порт, через который будет работать панель 3X-UI. Лучше всего где-нибудь в верхнем конце диапазона, до 65535. Я введу 5580.

<br>Настройка лучших VPN протоколов! VLESS с XTLS-Reality на сервере XRay с установкой через 3X-UI панель VPN, VPS, Сервер, Длиннопост
<br>8. Готово! Графическая панель 3X-UI установлена на ваш сервер!

<br>Пункт 3. Защита сервера
<br>1. Для защиты нашей системы установим программу fail2ban — она нужна для блокировки IP-адресов при превышении количества попыток совершения какого-либо действия, например, неудачного ввода SSH-пароля.

<br>Введите эту команду:

<br>apt install fail2ban -y && systemctl start fail2ban && systemctl enable fail2ban

<br>2. Теперь, чтоб ещё лучше защитить свой сервер от несакционированно проникновения третьих лиц (или ботов) добавим нового пользователя с правами Root, а после чего отключим учётную запись root.

<br>adduser user

<br>где user - замените на своё имя пользователя. Я создам пользователя с названием Revelix.

<br>Настройка лучших VPN протоколов! VLESS с XTLS-Reality на сервере XRay с установкой через 3X-UI панель VPN, VPS, Сервер, Длиннопост
<br>3. Введите пароль для своей новой учётной записи. Лучше всего придумайте его с сочетанием верхнего регистра, нижнего регистра и цифр.

<br>Настройка лучших VPN протоколов! VLESS с XTLS-Reality на сервере XRay с установкой через 3X-UI панель VPN, VPS, Сервер, Длиннопост
<br>4. Далее вам будет предложено ввести информацию о вашем новом пользователе. Вы можете оставить их пустыми:

<br>Настройка лучших VPN протоколов! VLESS с XTLS-Reality на сервере XRay с установкой через 3X-UI панель VPN, VPS, Сервер, Длиннопост
<br>5. Добавьте новую учетную запись в группу sudo, введя:

<br>usermod -aG sudo user

<br>где user — также замените на своё ранее созданное имя пользователя.

<br>Настройка лучших VPN протоколов! VLESS с XTLS-Reality на сервере XRay с установкой через 3X-UI панель VPN, VPS, Сервер, Длиннопост
<br>6. Переключитесь на новую учётную запись с помощью команды:

<br>su - user

<br>где user — ваше новое имя пользователя.

<br>Настройка лучших VPN протоколов! VLESS с XTLS-Reality на сервере XRay с установкой через 3X-UI панель VPN, VPS, Сервер, Длиннопост
<br>7. Теперь заблокируем вход пользователя root по SSH. Для этого нужно отредактировать файл /etc/ssh/sshd_config

<br>sudo nano /etc/ssh/sshd_config

<br>Введите ранее созданный пароль для этой учётной записи и нажмите Enter.

<br>8. Затем, найдите (перемещайтесь с помощью стрелок на клавиатуре) директиву PermitRootLogin и при необходимости раскомментируйте (если она закомментирована)

<br>Установите её значение равным no, как показано на скриншоте ниже:

<br>Настройка лучших VPN протоколов! VLESS с XTLS-Reality на сервере XRay с установкой через 3X-UI панель VPN, VPS, Сервер, Длиннопост
<br>После ввода изменений нажмите сочетание клавиш Cnrl + X, подвердите сохранение: Y

<br>Настройка лучших VPN протоколов! VLESS с XTLS-Reality на сервере XRay с установкой через 3X-UI панель VPN, VPS, Сервер, Длиннопост
<br>А тут просто нажмите Enter:

<br>Настройка лучших VPN протоколов! VLESS с XTLS-Reality на сервере XRay с установкой через 3X-UI панель VPN, VPS, Сервер, Длиннопост
<br>9. Как только вы закончите, сохраните и закройте файл. У вас должна появиться командная строка.

<br>Настройка лучших VPN протоколов! VLESS с XTLS-Reality на сервере XRay с установкой через 3X-UI панель VPN, VPS, Сервер, Длиннопост
<br>Затем перезапустите службу sshd, чтобы применить последние изменения в конфигурациях.

<br>sudo service sshd restart

<br>10. После этого можете попробовать подключиться через ssh root@ip-адрес, но у вас ничего не получится.

<br>Поэтому, теперь вам можно будет подключится к серверу только с помощью новой учётной записи, так же в формате: ssh user@ip-адрес, где user — ваше ранее созданное имя пользователя, а ip_adress — ip-адрес вашего сервера.

<br>Пункт 4. Создание протоколов в графической панели 3X-UI
<br>1. Чтобы войти в веб версию панели, в браузере идём по адресу:

<br>http://xxx.xxx.xxx.xxx:PORT/panel/

<br>где xxx.xxx.xxx.xxx — IP-адрес вашего сервера, а PORT - номер вашего порта. В моём случае это порт 5580.

<br>Настройка лучших VPN протоколов! VLESS с XTLS-Reality на сервере XRay с установкой через 3X-UI панель VPN, VPS, Сервер, Длиннопост
<br>Обратите внимание, протокол http://, а не https://

<br>2. Если вы всё сделали правильно, перед вами откроется окно ввода. Введите здесь Логин и пароль, который вы создали через командную строку.
<br>
<br>Настройка лучших VPN протоколов! VLESS с XTLS-Reality на сервере XRay с установкой через 3X-UI панель VPN, VPS, Сервер, Длиннопост
<br>3. Логинимся и видим вот такую красивую панель управления 3X-UI

<br>Настройка лучших VPN протоколов! VLESS с XTLS-Reality на сервере XRay с установкой через 3X-UI панель VPN, VPS, Сервер, Длиннопост
<br>4. Нажимаем на раздел Подключения, далее Добавить подключение.

<br>Настройка лучших VPN протоколов! VLESS с XTLS-Reality на сервере XRay с установкой через 3X-UI панель VPN, VPS, Сервер, Длиннопост
<br>5. И переходим к настройке VLESS с XTLS-Reality. Сделайте всё так, как я написал ниже и показал на скриншоте.

<br>Примечание — любое название

<br>Протокол — vless

<br>Порт IP — оставляем пустым

<br>Порт — вместо рандомного ставим 443

<br>Настройка лучших VPN протоколов! VLESS с XTLS-Reality на сервере XRay с установкой через 3X-UI панель VPN, VPS, Сервер, Длиннопост
<br>6. Далее переходим к настройкам Клиента.

<br>Email - Напишите название клиента. У меня это Revelix.

<br>Flow — надо выбрать xtls-rprx-vision. И, обратите внимание, поле Flow (см. скриншот) появится только после того, как чуть ниже вы поставите галочку на пункте Reality

<br>Настройка лучших VPN протоколов! VLESS с XTLS-Reality на сервере XRay с установкой через 3X-UI панель VPN, VPS, Сервер, Длиннопост
<br>7. Далее настроим транспорт.

<br>Протокол передачи: TCP

<br>AcceptProxyProtocol, HTTP Маскировка, Transparent Proxy, TLS — всё это должно быть выключено

<br>xVer — оставьте значение 0

<br>Reality — должно быть включено

<br>XTLS — наоборот, должно быть выключено. Возможно тут вам стало не понятно, так как Reality тоже относится к XTLS. Но, здесь под XTLS подразумеваются только устаревшие версии протокола. А переключатели XTLS и Reality в панели являются взаимоисключающими.

<br>uTLS — тут надо выбрать то, под какой браузер будет маскироваться наше VPN соединение. Но, можете выбрать chrome - так будет лучше всего.

<br>Домен — на самом деле это адрес для подключения к вашему серверу. Оставьте пустым, и тогда туда автоматически подставится IP-адрес сервера.

<br>Dest — это destination, то есть «назначение» — тут указываем домен и порт для переадресации google.com:443

<br>Server names — это домен, под который вы будете маскироваться. Меням на google.com, www.google.com

<br>ShortIds — это приватный ключ, сгенерируется автоматически.

<br>Public Key, Private Key — нажмите на кнопку Get new keys, и ключи сгенерируются автоматически.

<br>Sniffing, HTTP, TLS, QUIC, fakedns — оставьте включённым.

<br>Настройка лучших VPN протоколов! VLESS с XTLS-Reality на сервере XRay с установкой через 3X-UI панель VPN, VPS, Сервер, Длиннопост
<br>8. После того, как всё правильно сделали по инструкции, сравнили с моими скриншотами — нажимайтете кнопку Создать. Ивсё, настройка завершена!

<br>По итогу имеем вот такую картину:

<br>Настройка лучших VPN протоколов! VLESS с XTLS-Reality на сервере XRay с установкой через 3X-UI панель VPN, VPS, Сервер, Длиннопост
<br>9. Если нажать на меню, то можно изменить, добавить одного или нескольких пользователей, сбросить трафик, экспортировать ключи и т. д.

<br>10. Перед подключением устройств, которые будут использовать VPN соединение с сервером. Рекомендую вам зайти в настройки панели и поменять пароль, если он у вас не слишком сложный. А лучше всего включить ещё и секретный токен для максимальной безопасности(только не забудьте его сохранить в надёжном месте!)

<br>Ну и плюс, сейчас, или после окончательной настройки можете покопаться в настройках, особенно в разделе Конфигурация Xray.

<br>Пункт 5. Подключение клиентов
Чтобы долго не искать, выберите своё устройство, на котором вы хотите настроить VPN подключение:

<br>iOS (iPhone или iPad)

<br>Android

<br>MacOS (MacBook или iMac)

<br>Windows

<br>Вариант 1. Подключение устройств на iOS (но не ниже 16 версии)

<br>1. Скачайте приложение FoXray из AppStore по ссылке ниже:

<br>FoXray

<br>2. В графической панели 3X-UI создайте нового клиента. Для этого: нажмите на кнопку Меню в ранее созданной конфигурации, далее Добавить пользователя. В поле Email напишите название клиента, например "Мой iPhone", а в пункте Flow выберите xtls-rprx-vision.

<br>3. Раскройте (плюсиком) список клиентов и под «Меню» рядом с только что созданным клиентом «Мой iPhone» нажмите на иконку QR-кода.

<br>4. Запустите приложение FoXray и в левом верхнем углу нажмите значок сканирования QR-кода и отсканируйте его с экрана компьютера.

<br>5. Всё, профиль добавлен! Теперь нажмите на кнопку «Play», далее разрешите добавление конфигурации VPN, введите пароль и можете пользоваться VPN соединением.

<br>Вариант 2. Подключение устройств на Android.

<br>1. Скачайте приложение NekoBox c GitHub по этой ссылке (там будет самая актуальная версия, останется только выбрать архитектуру вашего процессора, но скорее всего это arm64-v8a — самая верхняя строчка)

<br>2. В графической панели 3X-UI создайте нового клиента. Для этого: нажмите на кнопку Меню в ранее созданной конфигурации, далее Добавить пользователя. В поле Email напишите название клиента, например "Мой Android", а в пункте Flow выберите xtls-rprx-vision.

<br>3. Раскройте (плюсиком) список клиентов и под «Меню» рядом с только что созданным клиентом «Мой Android» нажмите на иконку QR-кода.

<br>4. Установите Apk файл (ранее скаченный с GitHub) и запустите приложение NekoBox и в правом верхнем углу нажмите на иконку добавления нового подключения.

<br>5. Далее нажмите на Отсканировать QR-код и отсканируйте QR-код, который мы только что создали в графической панели. В списке профилей у вас должен появиться новый профиль.

<br>6. Для активации VPN подключения нажмите на соответствующую кнопку на главном экране NekoBox и подтвердите подключение.

<br>Вариант 3. Подключение устройств на MacOS

<br>1. Скачайте приложение FoXray из AppStore по ссылке ниже:

<br>FoXray

<br>2. В графической панели 3X-UI создайте нового клиента. Для этого: нажмите на кнопку Меню в ранее созданной конфигурации, далее Добавить пользователя. В поле Email напишите название клиента, например "Мой MacBook", а в пункте Flow выберите xtls-rprx-vision.

<br>3. Раскройте (плюсиком) список клиентов и под «Меню« рядом с только что созданным клиентом »Мой MacBook» нажмите на иконку Информация.

<br>4. Скопируйте ссылку для подключения под надписью URL, нажав на кнопку копирования.

<br>5. Запустите приложение FoXray и нажмите на иконку вставки текста.

<br>6. Готово, профиль добавлен! Теперь нажмите на кнопку "Play", далее разрешите добавление конфигурации VPN и можете пользоваться VPN соединением.

<br>Вариант 4. Подключение устройств на Windows

<br>1. Скачайте архив с программой Invisible Man XRay c GitHub по этой ссылке и распакуйте его (скачается сразу актуальная версия на момент написания этого поста, а вот по этой ссылке можете уже сами выбрать нужную вам версию и скачать её)

<br>2. В графической панели 3X-UI создайте нового клиента. Для этого: нажмите на кнопку Меню в ранее созданной конфигурации, далее Добавить пользователя. В поле Email напишите название клиента, например "Мой Windows", а в пункте Flow выберите xtls-rprx-vision.

<br>3. Раскройте (плюсиком) список клиентов и под «Меню", рядом с только что созданным клиентом "Мой Windows» и нажмите на иконку Информация.

<br>4. Скопируйте ссылку для подключение под надписью URL, нажав на кнопку копирования.

<br>5. Отправьте любым удобным способом данную ссылку на ваш компьютер, и там также её скопируйте.

<br>6. Запустите программу Invisible Man XRay и перейдите в Manage server configuration.

<br>7. Нажмите на кнопку "плюс" в правом нижнем углу окна.

<br>8. Выберите Import from link и вставьте вашу ссылку, которую вы ранее скопировали в поле.

<br>9. Если вы всё правильно сделали, должна добавиться новая конфигурция. Закройте этот менеджер и нажмите кнопку Run.

<br>10. Готово! VPN на компьютере под управлением операционной системы Windows мы тоже настроили без проблем.

</p>
</div>

<script>
    let parseStr = '';
</script>
</html>