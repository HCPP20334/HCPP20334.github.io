<!doctypehtml><html lang=en-us><head><meta charset=utf-8><meta content="text/html; charset=utf-8"http-equiv=Content-Type><meta content="width=800"name=viewport><title>ASCIICKER - Let's kick some ASCII</title><style>.asciicker{padding-right:0;margin-left:auto;margin-right:auto;display:block}textarea.asciicker{font-family:monospace;width:80%}div.asciicker{text-align:center}div.asciicker_border{border:1px solid #000}canvas{position:absolute}body,canvas,html{width:100%;height:100%;border:0;padding:0;margin:0;color:#fff;background-color:#000;overflow:hidden}.spinner{height:50px;width:50px;margin:0 auto;-webkit-animation:rotation .8s linear infinite;-moz-animation:rotation .8s linear infinite;-o-animation:rotation .8s linear infinite;animation:rotation .8s linear infinite;border-left:10px solid #0096f0;border-right:10px solid #0096f0;border-bottom:10px solid #0096f0;border-top:10px solid #6400c8;border-radius:100%;background-color:#c864fa}@-webkit-keyframes rotation{from{-webkit-transform:rotate(0)}to{-webkit-transform:rotate(360deg)}}@-moz-keyframes rotation{from{-moz-transform:rotate(0)}to{-moz-transform:rotate(360deg)}}@-o-keyframes rotation{from{-o-transform:rotate(0)}to{-o-transform:rotate(360deg)}}@keyframes rotation{from{transform:rotate(0)}to{transform:rotate(360deg)}}</style><script id=vs type=x-shader/x-vertex>//<![CDATA[
      attribute vec2 xy;
      uniform float width;
      uniform float height;
      uniform float tex_width;
      uniform float tex_height;
      
      varying vec2 tex_coord;
      varying vec2 cell_coord;
      
      void main()
      {
        gl_Position = vec4(2.0*xy - vec2(1.0,1.0), 0.0,1.0);
        cell_coord = xy * vec2(width,height);
        tex_coord = cell_coord / vec2(tex_width,tex_height);
      }
    //]]></script><script id=fs type=x-shader/x-fragment>//<![CDATA[
      precision highp float;

      uniform sampler2D fnt;
      uniform sampler2D tex;
      
      varying vec2 tex_coord;
      varying vec2 cell_coord;

			vec3 Pal(float p)
			{
        p = clamp(floor(p-16.0+0.5), 0.0, 215.0);

        float blue = floor(p / 36.0); 
        p-= 36.0*blue;
        
        float green = floor(p / 6.0); 
        float red = p - 6.0*green;
				
				return vec3(blue, green, red) * 0.2;
			}
      
      void main()
      {
        // sample cell buffer
        vec4 cell = texture2D(tex, tex_coord);

        // chracter code / 16
        float code = floor(cell.z * 255.00 + 0.5)/16.0; // bb fix !
        
        vec2 glyph;
        glyph.y = floor(code); // character y position (0..15)
        glyph.x = (code-glyph.y)*16.0; // character x position (0..15)

        vec2 raster = fract(cell_coord);
        raster.y = 1.0-raster.y;

        // normalized glyph texel position
        glyph = (glyph + raster) / vec2(16.0,16.0);
        float mask = texture2D(fnt, glyph).g;

        vec3 fg = Pal(cell.x*255.00);
        vec3 bg = Pal(cell.y*255.00);
        
        gl_FragColor = vec4(mix(bg,fg,mask),1.0);
      }
    //]]></script><script>var ak_canvas,ak_ctx,ak_vtx,ak_prg,ak_tex,ak_fonts,ak_font,ak_uni_width,ak_uni_height,ak_uni_tex_width,ak_uni_tex_height,AsciickerUpdate=null,AsciickerRender=null,ak_buf=null,ak_prev_arr=null,ak_prev_mem=null,ak_width=0,ak_height=0,ak_max_width=160,ak_max_height=160,ak_force_x=0,ak_force_y=0,ak_torque=0,ak_jump=!1,ak_drag=0;function Resize(e){var a=1;void 0!==window.screen.systemXDPI&&void 0!==window.screen.logicalXDPI&&window.screen.systemXDPI>window.screen.logicalXDPI?a=window.screen.systemXDPI/window.screen.logicalXDPI:void 0!==window.devicePixelRatio&&(a=window.devicePixelRatio);var t=window.innerWidth,_=window.innerHeight;console.log("WxH = "+t+"x"+_),ak_ctx.canvas.width=Math.floor(t*a),ak_ctx.canvas.height=Math.floor(_*a);for(var r=.001*ak_ctx.canvas.width,n=.001*ak_ctx.canvas.height,i=7.5*Math.sqrt(r*r+n*n)*a,c=0;c<ak_fonts.length;c++)Math.abs(ak_fonts[ak_font].size-i)>Math.abs(ak_fonts[c].size-i)&&(ak_font=c);console.log("FONT="+ak_font)}function AsciickerLoop(e){AsciickerUpdate(ak_force_x,ak_force_y,ak_torque,ak_jump)||(ak_jump=!1);var a=ak_ctx.drawingBufferWidth,t=ak_ctx.drawingBufferHeight,_=Math.floor(a/(ak_fonts[ak_font].width>>4)),r=Math.floor(t/(ak_fonts[ak_font].height>>4));ak_max_width<_&&(_=ak_max_width),ak_max_height<r&&(r=ak_max_height);var n=AsciickerRender(_,r);n==ak_prev_mem&&Module.HEAP8==ak_prev_arr&&_==ak_width&&r==ak_height||(ak_buf=new Uint8Array(Module.HEAP8.buffer,n,_*r*4),ak_prev_arr=Module.HEAP8,ak_prev_mem=n,ak_width=_,ak_height=r),ak_ctx.activeTexture(ak_ctx.TEXTURE0),ak_ctx.bindTexture(ak_ctx.TEXTURE_2D,ak_tex),ak_ctx.texSubImage2D(ak_ctx.TEXTURE_2D,0,0,0,_,r,ak_ctx.RGBA,ak_ctx.UNSIGNED_BYTE,ak_buf),ak_ctx.viewport(0,0,a,t),ak_ctx.clearColor(0,0,0,0),ak_ctx.clear(ak_ctx.COLOR_BUFFER_BIT);var i=ak_fonts[ak_font];ak_ctx.activeTexture(ak_ctx.TEXTURE1),ak_ctx.bindTexture(ak_ctx.TEXTURE_2D,i.tex),ak_ctx.useProgram(ak_prg),ak_ctx.uniform1f(ak_uni_width,_),ak_ctx.uniform1f(ak_uni_height,r),ak_ctx.uniform1f(ak_uni_tex_width,ak_max_width),ak_ctx.uniform1f(ak_uni_tex_height,ak_max_height),ak_ctx.bindBuffer(ak_ctx.ARRAY_BUFFER,ak_vtx),ak_ctx.drawArrays(ak_ctx.TRIANGLE_FAN,0,4),window.requestAnimationFrame(AsciickerLoop)}function setTouchHandlers(){var o=0,k={},x=.5,d=.5;window.addEventListener("touchstart",function(e){e.preventDefault();for(var a=event.changedTouches,t=0;t<a.length&&65535!==o;t++){for(var _=0,r=0;r<16;r++)if(0==(o&1<<r)){_=r+1,o|=1<<r;break}var n=a[t].pageX,i=a[t].pageY,c=a[t].identifier;1==(k[c]=_)?(ak_drag=1,ak_torque=(n<.1*window.innerWidth?(ak_force_y=ak_force_x=0,torque=1):n>.9*window.innerWidth?(ak_force_y=ak_force_x=0,torque=-1):(x=n/window.innerWidth,d=i/window.innerHeight,ak_force_x=4*(n/window.innerWidth-x),ak_force_y=4*(d-i/window.innerHeight),torque=0),torque)):ak_jump=!0}},{passive:!1}),window.addEventListener("touchmove",function(e){e.preventDefault();for(var a=event.changedTouches,t=0;t<a.length;t++){var _=a[t].identifier,r=k[_];if(r){var n=a[t].pageX,i=a[t].pageY;1==r&&(ak_force_y=torque?ak_force_x=0:(ak_force_x=4*(n/window.innerWidth-x),4*(d-i/window.innerHeight)))}}},{passive:!1}),window.addEventListener("touchend",function(e){e.preventDefault();for(var a=event.changedTouches,t=0;t<a.length;t++){var _=a[t].identifier,r=k[_];r&&(k[_]=0,o&=~(1<<r-1),1==r?(ak_force_y=ak_force_x=ak_drag=0,torque=0,ak_torque=torque,d=x=.5):ak_jump=!1)}},{passive:!1}),window.addEventListener("touchcancel",function(e){e.preventDefault();for(var a=event.changedTouches,t=0;t<a.length;t++){var _=a[t].identifier,r=k[_];r&&(k[_]=0,o&=~(1<<r-1),1==r?(ak_force_y=ak_force_x=ak_drag=0,torque=0,ak_torque=torque,d=x=.5):ak_jump=!1)}},{passive:!1})}function setKeybHandlers(){var r=0,n=0,i=0,c=0,o=0,k=0,x=0;window.addEventListener("blur",function(e){ak_torque=ak_force_y=ak_force_x=ak_drag=k=o=c=i=n=r=x=0,ak_jump=!1},{}),window.addEventListener("keydown",function(e){if(!e.repeat){var a=e.code;if("Space"==a&&(ak_jump=!0),"F1"!=a&&"Delete"!=a&&"PageUp"!=a&&"KeyQ"!=a||(k=1),"F2"!=a&&"Insert"!=a&&"PageDown"!=a&&"KeyE"!=a||(o=1),"ShiftLeft"!=a&&"ShiftRight"!=a||(x=1),ak_torque=k-o,"ArrowLeft"!=a&&"KeyA"!=a||(r=1),"ArrowRight"!=a&&"KeyD"!=a||(n=1),"ArrowUp"!=a&&"KeyW"!=a||(i=1),"ArrowDown"!=a&&"KeyS"!=a||(c=1),0==ak_drag){var t=x?.5:1;ak_force_x=n-r,ak_force_y=i-c;var _=Math.sqrt(ak_force_x*ak_force_x+ak_force_y*ak_force_y);0<_&&(t/=_),ak_force_x*=t,ak_force_y*=t}}e.preventDefault()},{passive:!1}),window.addEventListener("keyup",function(e){var a=e.code;if("Space"==a&&(ak_jump=!1),"F1"!=a&&"Delete"!=a&&"PageUp"!=a&&"KeyQ"!=a||(k=0),"F2"!=a&&"Insert"!=a&&"PageDown"!=a&&"KeyE"!=a||(o=0),"ShiftLeft"!=a&&"ShiftRight"!=a||(x=0),ak_torque=k-o,"ArrowLeft"!=a&&"KeyA"!=a||(r=0),"ArrowRight"!=a&&"KeyD"!=a||(n=0),"ArrowUp"!=a&&"KeyW"!=a||(i=0),"ArrowDown"!=a&&"KeyS"!=a||(c=0),0==ak_drag){var t=x?.5:1;ak_force_x=n-r,ak_force_y=i-c;var _=Math.sqrt(ak_force_x*ak_force_x+ak_force_y*ak_force_y);0<_&&(t/=_),ak_force_x*=t,ak_force_y*=t}e.preventDefault()},{passive:!1})}function setMouseHandlers(){var a=0,t=0;function e(e){console.log("zoom"),e.preventDefault()}window.addEventListener("DOMMouseScroll",e,{passive:!1}),window.addEventListener("mousewheel",e,{passive:!1}),window.addEventListener("contextmenu",function(e){console.log("menu"),e.preventDefault()},{passive:!1}),window.addEventListener("mousedown",function(e){1==e.which&&(a=1),3==e.which&&(t=1),a+t==2&&(ak_jump=!0),ak_force_y=0!=a?(ak_force_x=4*(e.pageX/window.innerWidth-.5),4*(.5-e.pageY/window.innerHeight)):ak_force_x=0,ak_drag=a+t,e.preventDefault()},{passive:!1}),window.addEventListener("mousemove",function(e){ak_drag=a+t,0!=a&&(ak_force_x=4*(e.pageX/window.innerWidth-.5),ak_force_y=4*(.5-e.pageY/window.innerHeight)),e.preventDefault()},{passive:!1}),window.addEventListener("mouseup",function(e){1==e.which&&(a=0),3==e.which&&(t=0),ak_force_y=0!=a?(ak_force_x=4*(e.pageX/window.innerWidth-.5),4*(.5-e.pageY/window.innerHeight)):ak_force_x=0,ak_drag=a+t,e.preventDefault()},{passive:!1})}function AsciickerBoot(){for(var e=0,a=0,t=[10,6,8,12,16,14,18,20],_=t.length,r=function(){e+a==_&&console.log("Can't boot")},n=0;n<t.length;n++){var i=t[n],c=new Image;(t[n]=c).onerror=function(e){return function(){a++,console.log("Failed to load font: "+e),r()}}(i),c.onload=function(){++e==_?AsciickerInit(t):r()},c.src="fonts/cp437_"+i+"x"+i+".png"}}function AsciickerInit(e){console.log("Loaded "+e.length+" fonts"),AsciickerUpdate=Module.cwrap("AsciickerUpdate","number",["number","number","number","number"]),AsciickerRender=Module.cwrap("AsciickerRender","number",["number","number"]);var a={alpha:(ak_canvas=document.getElementById("asciicker_canvas")).hidden=!1,depth:!1,stencil:!1,antialias:!1};try{ak_ctx=ak_canvas.getContext("webgl",a)||ak_canvas.getContext("experimental-webgl",a)}catch(e){ak_ctx=null}if(ak_ctx){ak_ctx.imageSmoothingEnabled=!1,ak_vtx=ak_ctx.createBuffer(),ak_ctx.bindBuffer(ak_ctx.ARRAY_BUFFER,ak_vtx),ak_ctx.bufferData(ak_ctx.ARRAY_BUFFER,new Float32Array([0,0,1,0,1,1,0,1]),ak_ctx.STATIC_DRAW);var t=ak_ctx.createShader(ak_ctx.VERTEX_SHADER);ak_ctx.shaderSource(t,document.getElementById("vs").innerHTML),ak_ctx.compileShader(t),ak_ctx.getShaderParameter(t,ak_ctx.COMPILE_STATUS)||console.log(ak_ctx.getShaderInfoLog(t));var _=ak_ctx.createShader(ak_ctx.FRAGMENT_SHADER);ak_ctx.shaderSource(_,document.getElementById("fs").innerHTML),ak_ctx.compileShader(_),ak_ctx.getShaderParameter(_,ak_ctx.COMPILE_STATUS)||console.log(ak_ctx.getShaderInfoLog(_)),ak_prg=ak_ctx.createProgram(),ak_ctx.attachShader(ak_prg,t),ak_ctx.attachShader(ak_prg,_),ak_ctx.linkProgram(ak_prg),ak_ctx.deleteShader(t),ak_ctx.deleteShader(_),ak_ctx.useProgram(ak_prg);var r=ak_ctx.getAttribLocation(ak_prg,"xy");ak_ctx.vertexAttribPointer(r,2,ak_ctx.FLOAT,!1,0,0),ak_ctx.enableVertexAttribArray(r),ak_ctx.uniform1i(ak_ctx.getUniformLocation(ak_prg,"tex"),0),ak_ctx.uniform1i(ak_ctx.getUniformLocation(ak_prg,"fnt"),1),ak_uni_width=ak_ctx.getUniformLocation(ak_prg,"width"),ak_uni_height=ak_ctx.getUniformLocation(ak_prg,"height"),ak_uni_tex_width=ak_ctx.getUniformLocation(ak_prg,"tex_width"),ak_uni_tex_height=ak_ctx.getUniformLocation(ak_prg,"tex_height"),ak_ctx.activeTexture(ak_ctx.TEXTURE0),ak_fonts=new Array;var n=e[0];e.sort(function(e,a){return e.naturalHeight-a.naturalHeight});for(var i=0;i<e.length;i++){var c={tex:ak_ctx.createTexture(),size:e[i].naturalHeight>>4,width:e[i].naturalWidth,height:e[i].naturalHeight};ak_fonts.push(c),ak_ctx.bindTexture(ak_ctx.TEXTURE_2D,c.tex),ak_ctx.texParameteri(ak_ctx.TEXTURE_2D,ak_ctx.TEXTURE_WRAP_S,ak_ctx.CLAMP_TO_EDGE),ak_ctx.texParameteri(ak_ctx.TEXTURE_2D,ak_ctx.TEXTURE_WRAP_T,ak_ctx.CLAMP_TO_EDGE),ak_ctx.texParameteri(ak_ctx.TEXTURE_2D,ak_ctx.TEXTURE_MIN_FILTER,ak_ctx.NEAREST),ak_ctx.texParameteri(ak_ctx.TEXTURE_2D,ak_ctx.TEXTURE_MAG_FILTER,ak_ctx.NEAREST),ak_ctx.texImage2D(ak_ctx.TEXTURE_2D,0,ak_ctx.RGBA,ak_ctx.RGBA,ak_ctx.UNSIGNED_BYTE,e[i]),e[i]===n&&(ak_font=i)}var o=new Uint8Array(4*ak_max_width*ak_max_height);ak_tex=ak_ctx.createTexture(),ak_ctx.bindTexture(ak_ctx.TEXTURE_2D,ak_tex),ak_ctx.texParameteri(ak_ctx.TEXTURE_2D,ak_ctx.TEXTURE_WRAP_S,ak_ctx.CLAMP_TO_EDGE),ak_ctx.texParameteri(ak_ctx.TEXTURE_2D,ak_ctx.TEXTURE_WRAP_T,ak_ctx.CLAMP_TO_EDGE),ak_ctx.texParameteri(ak_ctx.TEXTURE_2D,ak_ctx.TEXTURE_MIN_FILTER,ak_ctx.NEAREST),ak_ctx.texParameteri(ak_ctx.TEXTURE_2D,ak_ctx.TEXTURE_MAG_FILTER,ak_ctx.NEAREST),ak_ctx.texImage2D(ak_ctx.TEXTURE_2D,0,ak_ctx.RGBA,ak_max_width,ak_max_height,0,ak_ctx.RGBA,ak_ctx.UNSIGNED_BYTE,o),console.log("ALL PASSED"),setMouseHandlers(),setKeybHandlers(),setTouchHandlers(),window.addEventListener("resize",Resize),Resize(null),window.requestAnimationFrame(AsciickerLoop)}}</script></head><body><canvas , , height=500 hidden id=asciicker_canvas width=800></canvas><figure id=spinner style=overflow:visible><div class=spinner></div><center style=margin-top:.5em><strong>ASCIICKER</strong></center></figure><div class=asciicker id=status>Downloading...</div><div class=asciicker><progress hidden id=progress max=100 value=0></progress></div><script>var statusElement=document.getElementById("status"),progressElement=document.getElementById("progress"),spinnerElement=document.getElementById("spinner"),Module={noExitRuntime:!0,noInitialRun:!1,preRun:[],postRun:[AsciickerBoot],print:function(){var t=document.getElementById("output");return t&&(t.value=""),function(e){1<arguments.length&&(e=Array.prototype.slice.call(arguments).join(" ")),console.log(e),t&&(t.value+=e+"\n",t.scrollTop=t.scrollHeight)}}(),printErr:function(e){1<arguments.length&&(e=Array.prototype.slice.call(arguments).join(" ")),console.error(e)},canvas:null,setStatus:function(e){if(Module.setStatus.last||(Module.setStatus.last={time:Date.now(),text:""}),e!==Module.setStatus.last.text){var t=e.match(/([^(]+)\((\d+(\.\d+)?)\/(\d+)\)/),n=Date.now();t&&n-Module.setStatus.last.time<30||(Module.setStatus.last.time=n,Module.setStatus.last.text=e,t?(e=t[1],progressElement.value=100*parseInt(t[2]),progressElement.max=100*parseInt(t[4]),progressElement.hidden=!1,spinnerElement.hidden=!1):(progressElement.value=null,progressElement.max=null,progressElement.hidden=!0,e||(spinnerElement.hidden=!0)),statusElement.innerHTML=e)}},totalDependencies:0,monitorRunDependencies:function(e){this.totalDependencies=Math.max(this.totalDependencies,e),Module.setStatus(e?"Preparing... ("+(this.totalDependencies-e)+"/"+this.totalDependencies+")":"All downloads complete.")}};Module.setStatus("Downloading..."),window.onerror=function(){Module.setStatus("Exception thrown, see JavaScript console"),spinnerElement.style.display="none",Module.setStatus=function(e){e&&Module.printErr("[post-exception status] "+e)}}</script><script async src=index.js></script></body></html>