<html>
<style>
    @font-face{
	font-family: WR;
	src: url("https://hcpp20334.github.io/fonts/monoMMM_5.ttf");
    }
    html{
        background: #303030;
    }
    .menubar{
        background: #202020;
        border: 1px solid #010409;
        width: 100%;
        height: 30px;
    }
    .mbtns{
        background: #202020;
        border:none;
        font-family: 'Consolas';
        font-size: 16px;
        color: #ffffff;
    }
    .mbtns:hover{
        background: #606060;
        border: none;
    }
    .mbtns:active{
        color: #20ff80;
    }
    .prtx{
        background: #202020;
        font-family: 'Consolas';
        font-size: 14px;
        color: #ffffff;display: inline-block;
    }
    .txab{
        font-family: 'Consolas';
        font-size: 14px;
        color: #ffffff;
        transform: translateX(10px);display: inline-block;
    }
    .txab:hover{
        background: #606060;
        color: #20ff80;
    }
    .buf{
        background: #202020;
        border: 1px solid #010409;
        font-family: 'Consolas';
        font-size: 12px;
        color: #ffffff;
        width: 100%;
        height: 500px;
        outline: none;
    }
    #params{
        background: #202020;
        border: 1px solid #010409; 
        width: 100%;
        height: 30px;
    }
    #save{
        background: #303030;
        font-family: 'Consolas';
        font-size: 14px;
        color: #ffffff;
        display: block;
        width: 130px;
        border: none;
    }
    #save:hover{
        background: #606060;

    }
    #cnsl,#cnsl1,#cnsl2{
        background: #303030;
        font-family: 'Consolas';
        font-size: 14px;
        color: #ffffff;
        display: block;
        width: 100%;
        border: none;
        transform: translateY(20px);
    }
    #cnsl3{
        background: #303030;
        font-family: 'Consolas';
        font-size: 14px;
        color: #ffffff;
        display: block;
        width: 100px;
        transform: translate(10px,10px);
        border: none;
    }
    .fntb{
        background: #303030;
        font-family: 'Consolas';
        font-size: 14px;
        color: #ffffff;
        display: block;
        width: 100px;
        transform: translate(10px,10px);
        border: none;
        margin: 4px;
    }
    #cnsl:hover,#cnsl1:hover,#cnsl2:hover,#cnsl3:hover,.fntb:hover{
        background: #606060;
        }
    #file_menu{
        width: 130px;
        height: 60px;
        background: #303030;
        border: 1px solid #796c6ccc;
        position: absolute;
        z-index: 1;
        transform: translateY(-10px);
        display: none;
    }
    #fontsmenu{
        width: 130px;
        height: 100%;
        background: #303030;
        border: 1px solid #796c6ccc;
        border-top:none;border-bottom: none;
        position: absolute;
        z-index: 1;
        transform: translate(200px,0px);
        display: block;
    }
    #file_tl{
        width: 230px;
        height: 20px;
        background: #303030;
        border: 1px solid #796c6ccc;
        font-family: 'Consolas';
        font-size: 14px;
        color: #ffffff;
        
        outline: none;
    }
    .in{
        width: 30px;
        height: 30px;
        background: #303030;
        border: 1px solid #796c6ccc;
        font-family: 'Consolas';
        font-size: 14px;
        color: #ffffff;
        display: inline-block;
        outline: none;transform: translateX(10px);
    }
    .in2{
        width: 100px;
        height: 30px;
        background: #303030;
        border: 1px solid #796c6ccc;
        font-family: 'Consolas';
        font-size: 14px;
        color: #ffffff;
        display: inline-block;
        outline: none;transform: translateX(10px);
    }
    #js-code,#console-log{
        width: 200px;
        height: 30px;
        background: #303030;
        border: 1px solid #796c6ccc;
        font-family: 'Consolas';
        font-size: 14px;
        color: #ffffff;
        display: inline-block;
        outline: none;transform: translateX(10px);
    }
    #set_menu,#wndtx{
        width: 330px;
        height: 200px;
        background: #303030;
        border: 1px solid #796c6ccc;
        margin: auto;
        display: none;position: absolute;
        z-index: 1;
    }
    #about_menu{
        width: 230px;
        height: 200px;
        background: #303030;
        border: 1px solid #796c6ccc;
        margin: auto;
        display: none;position: absolute;
        z-index: 1;
    }
    #debug-frame{
        width: 230px;
        height: 200px;
        background: #686883;
        border: 1px solid #796c6ccc;
        margin: auto;
        display: none;position: absolute;
        z-index: 1;
    }
    #wbuffer,#testtx{
        font-family: 'Consolas';
        font-size: 14px;
        color: #ffffff;
        transform: translate(10px,10px);
    }
    #loader{
        width: 100%;
        height: 100%;
        background: linear-gradient(45deg,#202020,#303033);
        position: absolute;
        z-index: 1;
        overflow: hidden;
        transition: .5s;
    }
    @keyframes fx{
        0%{
            width: 190px;
        }
        50%{
            width: 0px;
        }
        100%{
            width: 180px;
        }
    }
    .txloader{
        font-family: 'WR';
        font-size: 40px;
        width: 180px;
        transition: .5s;
        color: #ffffff;
        text-align: center;
        animation: fx 2s infinite;
        overflow: hidden;
        
    }
    .txloader1{
        font-family: 'Consolas';
        font-size: 20px;
        transition: .5s;
        color: #ffffff;
        text-align: center;
        overflow: hidden;
        
    }
    .loaderd{
        background: #0400ff;
        box-shadow: 10px 8px #ff202b;
        display: block;
        margin: auto;
        width: 200px;
        height: 50px;

    }
    #savebar{
        width: 100px;
        height: 10px;
        border: 1px solid #ff202b;
        transition: .3s;
        display: inline-block;
    }
    #bar{
        background: #ff202b;
        transition: .2s; height: 10px;
        width: 1px;display: block;
    }
</style>
<title id="titlenuf">Блокнот:Нет Имени</title>
<div id="loader">
    <br><br><br><br><br><br><br>
<div class="loaderd">
    <p class="txloader">NOTEPAD</p>
        <p class="txloader1">Сборка 1.0.22</p>
</div>
</div>
<div class="menubar">
<button id="file_t" class="mbtns">ФАЙЛ</button>
<button id="settings_t" class="mbtns">НАСТРОИКИ</button>
<button id="about_t" class="mbtns">О ПРОЕКТЕ</button>
<button id="DEBUG_t" class="mbtns">DEBUGTOOL</button>
<input type="comment" id="file_tl" value="ИМЯ ФАЙЛА..">
</div>
<div id="file_menu">
<button id="save">Сохранить</button>
<button id="cnsl">Отмена</button>
</div>
<div id="set_menu">
    <div id="fontsmenu">
    <button class="fntb" onclick="javascript:loadFont(0);">Consolas</button>
    <button class="fntb" onclick="javascript:loadFont(1);">Verdana</button>
    <button class="fntb" onclick="javascript:loadFont(3);">Arial</button>
    <button class="fntb" onclick="javascript:loadFont(2);">Comic Sans MS</button>
    <button class="fntb" onclick="javascript:loadFont(4);">monoMMM5</button>
    <button id="cnsl1" >Отмена</button>
    </div>
    <p class="txab">Размер Шрифта:</p><input id="fntsz" type="comment" class="in">
    <p id="testtx">Привет!! || HELLO</p>
    </div>
    <div id="debug-frame">
    <p class="txab">Код Инжектор</p>
    <textarea id="js-code"></textarea>
    <p class="txab">Console</p>
    <textarea id="console-log"></textarea>
    <button id="cnsl3">Отмена</button>
    </div>
    <div id="about_menu">
        <p class="txab">Блокнот Веб - HTML5 версия от HCPP</p>
        <button id="cnsl2">Отмена</button>
        </div>
        <div id="wndtx">
        <p id="wbuffer"></p>
        </div>
<textarea id="buffer_t" class="buf"></textarea>
<div id="params">
<p id="size_buffer_t" class="prtx"></p>
<p id="font_size" class="prtx"></p>
<p id="font_type" class="prtx"></p>
<p id="file_name" class="prtx">не имени</p>
<div id="savebar">
    <div id="bar"></div>
</div>
</div>
<p class="prtx">Сборка 1.0.22</p>
<script>
let buffer_t = document.getElementById("buffer_t");
let size_t = document.getElementById("size_buffer_t");
let fC_txSize = "";
let fB_fileBtn = document.getElementById("file_t");
let fB_SettingsBtn = document.getElementById("settings_t");
let fB_AboutBtn = document.getElementById("about_t");
let fW_fileFrame = document.getElementById("file_menu");
let fW_SetFrame = document.getElementById("set_menu");
let fW_AboutFrame = document.getElementById("about_menu");
let fW_txbuffer = document.getElementById("file_name");
let fW_fontType = document.getElementById("font_type");
let fW_fontSize = document.getElementById("font_size");
let fW_App = document.documentElement;
let fW_debugButton = document.getElementById("DEBUG_t");
let fW_debugFrame = document.getElementById("debug-frame");
let fW_debugJScode = document.getElementById("js-code");
//
let file_tl = document.getElementById("file_tl")
let fB_cl0 = document.getElementById("cnsl");
let fB_cl1 = document.getElementById("cnsl1");
let fB_cl2 = document.getElementById("cnsl2");
let fB_cl3 = document.getElementById("cnsl3");
let fBarLoad = document.getElementById("bar");
let fFnt_sz = document.getElementById("fntsz");
let fFnt = document.getElementById("fnt");
//
let fW_fontsMenu = document.getElementById("fontsmenu");
let fD_fileName = "";
let fW_loader = document.getElementById("loader");
let fW_testtx = document.getElementById("testtx");
//
let consoleData = document.getElementById("console-log");
let strDataArray = ["нет имени","Шрифты"];
//----------------------0---------1-----------2------------3----------4----
let fC_fontsArray = ["Consolas","Verdana","Comic Sans MS","Arial","WR"];
//let fW_fontsInfo = document.getElementById("fontsinfo");
fB_cl3.onclick = function(){
    fW_debugFrame.style.display = "none";
}
fW_debugButton.onclick = function(){
    fW_debugFrame.style.display = "block";
}
fW_debugJScode.oninput = function(){
    dbgjs(this.value);
}
window.addEventListener('error', function (e) {
    var error = "\n" + e.error;
   consoleData.innerHTML += error + "<br>";
   logw(error+"<br>");
});
function dbgjs(code){
  let jsBuffer = document.createElement("script");
  fW_App.appendChild(jsBuffer);
  jsBuffer.innerHTML = code;
}
setTimeout("loadClose()",4000);
function LightTheme(){
    fW_App.style = "filter: hue-rotate(45deg)";
}
function loadClose(){
    fW_loader.style.height = "0px";
}
function load(){
    fW_loader.style.height = "100%";
}
fFnt_sz.oninput = function(){
    buffer_t.style = "font-size:"+this.value+"px";
    fW_testtx.style = "font-size:"+this.value+"px";
    fW_fontSize.innerHTML = "Размер Шрифта:"+this.value;
    if(this.value == 0){
        buffer_t.style = "font-size:12px";
    fW_testtx.style = "font-size:12px";
    fW_fontSize.innerHTML = "Размер Шрифта:12";
    }
}

function loadFont(id){
    buffer_t.style = "font-family:'"+fC_fontsArray[id]+"'";
    fW_testtx.style = "font-family:'"+fC_fontsArray[id]+"'";
    fW_fontType.innerHTML = "шрифт:"+fC_fontsArray[id];
    if(fC_fontsArray[id] == ""){
        buffer_t.style = "font-family:'Consolas'";
    fW_testtx.style = "font-family:'Consolas'";
    fW_fontType.innerHTML = "шрифт:Consolas";
    }
}
fW_loader.onclick = function(){
    loadClose();
}
file_tl.oninput = function(){
    fD_fileName = this.value;
    document.getElementById("titlenuf").innerHTML ="Блокнот:"+fD_fileName;
    fW_txbuffer.innerHTML = "файл:"+fD_fileName;
    if(fD_fileName.length < 1){
        fW_txbuffer.innerHTML = "файл:нет имени";
        document.getElementById("titlenuf").innerHTML ="Блокнот: нет имени";
    }
}
//
let wndTx = document.getElementById("wndtx");
let wBuffer = document.getElementById("wbuffer");
function logw(text){
    wndTx.style.display = "block";
    wBuffer.innerHTML = text;
    setTimeout("wndTx.style.display = 'none';",1000);
}
document.getElementById("save").onclick = function(){
    if(fD_fileName.length < 1){
        logw("Ошибка!! Не задано имя файла!");
        fW_txbuffer.innerHTML = "нет имени";
        document.getElementById("titlenuf").innerHTML ="Блокнот: нет имени";
    }
    else{
        fBarLoad.style.width = "100px";
    setTimeout("fBarLoad.style.width = '0px';",1000);
    //fW_txbuffer.innerHTML = fD_fileName + "Saved!! size:"+C_txBuffer.length;
    writeFile(fD_fileName,fC_txBuffer);
    }
}
fB_cl0.onclick = function(){
    fW_fileFrame.style.display = "none";
}
fB_cl1.onclick = function(){
    fW_SetFrame.style.display = "none";
}
fB_cl2.onclick = function(){
    fW_AboutFrame.style.display = "none";
}
fB_fileBtn.onclick = function(){
    fW_fileFrame.style.display = "block";
    fW_SetFrame.style.display = "none";
    fW_AboutFrame.style.display = "none";
}
fB_SettingsBtn.onclick = function(){
    fW_SetFrame.style.display = "block";
    fW_fileFrame.style.display = "none";
    fW_AboutFrame.style.display = "none";
}
fB_AboutBtn.onclick = function(){
    fW_AboutFrame.style.display = "block";
    fW_fileFrame.style.display = "none";
    fW_SetFrame.style.display = "none";
}

function writeFile(name, value)
{
       var val = value;
      if (value === undefined) {
      val = "";
       }
      var download = document.createElement("a");
      download.href = "data:text/plain;content-disposition=attachment;filename=file," + val;
      download.download = name;
      download.style.display = "none";
      download.id = "download"; document.body.appendChild(download);
      document.getElementById("download").click();
      document.body.removeChild(download);
}
buffer_t.oninput = function(){
    fC_txBuffer = this.value;
    fC_txSize = fC_txBuffer.length;
    size_t.innerHTML = "Кол.Символ:"+fC_txSize;
     
}
</script>
</html>